(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{3056:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n(0),a=n.n(o),s=n(1),r=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){class n extends r.a.Component{constructor(e){super(e),i(this,"container",void 0),this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,(null==t?void 0:t.componentWillUnmount)&&t.componentWillUnmount.bind(this)()}setContainerRef(e){this.container=e}execute(){this.container&&e(this.container,this.props)}render(){const{id:e,className:t}=this.props;return r.a.createElement("div",{ref:this.setContainerRef,id:e,className:t})}}i(n,"propTypes",{id:a.a.string,className:a.a.string});const o=n;return e.displayName&&(o.displayName=e.displayName),e.propTypes&&(o.propTypes=c({},o.propTypes,{},e.propTypes)),e.defaultProps&&(o.defaultProps=e.defaultProps),n}},3243:function(e,t,n){},3244:function(e,t,n){e.exports=n.p+"647f3b061407d2df992b141838c6a9fd.geojson"},3245:function(e,t,n){e.exports=n.p+"5f64d14062abb5f5fd6610972976ebe6.geojson"},3246:function(e,t,n){e.exports=n.p+"5ba53f6ca41eea9fcd804bb85b15b717.geojson"},3247:function(e,t,n){e.exports=n.p+"86469739648332fa1144cb8cb2127c10.geojson"},3248:function(e,t,n){e.exports=n.p+"e2b4b67c1386e8a5955cd5adc8072937.geojson"},3249:function(e,t,n){e.exports=n.p+"a8835fa1f5787fe6c859bbf27451669c.geojson"},3250:function(e,t,n){e.exports=n.p+"e5a566e2a4a20c76b6ceb68898b4551c.geojson"},3251:function(e,t,n){e.exports=n.p+"c4f01c1b263f64ebf76fd32988955ee5.geojson"},3252:function(e,t,n){e.exports=n.p+"341142ac8466aaa1ffca6462f1f4e3f9.geojson"},3253:function(e,t,n){e.exports=n.p+"eac4e606a790dc58734d64abe051c0ce.geojson"},3254:function(e,t,n){e.exports=n.p+"f3c7f8f357bd44946bd2bd448859bda4.geojson"},3255:function(e,t,n){e.exports=n.p+"33560d2fbb7709aa4678a7d6b3e58de2.geojson"},3256:function(e,t,n){e.exports=n.p+"6d76a3e09e096cb8b2847229809ede46.geojson"},3257:function(e,t,n){e.exports=n.p+"92586e10bd0fc50d383f065848f9ff30.geojson"},3258:function(e,t,n){e.exports=n.p+"bbf6ca5c90a4692792cb7fdfdad73104.geojson"},3259:function(e,t,n){e.exports=n.p+"0135d056b222ed13c7c12cd018051192.geojson"},3260:function(e,t,n){e.exports=n.p+"bb3889bfa65fcf72a4eca68e7ab91e64.geojson"},3261:function(e,t,n){e.exports=n.p+"a05665706019af9fc61b0dc71b4e706f.geojson"},3262:function(e,t,n){e.exports=n.p+"f643464ab125c1e94588d58ac77d2704.geojson"},3263:function(e,t,n){e.exports=n.p+"9f521e1094332bf3de8bbcc9ce2170a0.geojson"},3264:function(e,t,n){e.exports=n.p+"f0de53f3380e55031f5ed7e0986c7b67.geojson"},3265:function(e,t,n){e.exports=n.p+"75b84c13b90b14e8d6f512f522ec3897.geojson"},3266:function(e,t,n){e.exports=n.p+"402430a4e9f8931d5362e650c9ab391f.geojson"},3267:function(e,t,n){e.exports=n.p+"fe50f1df71b69257315717808fb60e86.geojson"},3268:function(e,t,n){e.exports=n.p+"420625849885a90999dd7f0eea575435.geojson"},3269:function(e,t,n){e.exports=n.p+"d837f5941b13844653f61455735424f7.geojson"},3270:function(e,t,n){e.exports=n.p+"1680a595633a783cd68d7f6509bc5326.geojson"},3271:function(e,t,n){e.exports=n.p+"692564493e0a03962af1d1e73bf8b590.geojson"},3354:function(e,t,n){"use strict";n.r(t);var o=n(3056),a=n(294),s=n.n(a),r=n(0),c=n.n(r),i=n(631),p=n(775),f=n(3244),d=n.n(f),l=n(3245),u=n.n(l),b=n(3246),g=n.n(b),m=n(3247),h=n.n(m),x=n(3248),y=n.n(x),j=n(3249),v=n.n(j),w=n(3250),k=n.n(w),O=n(3251),C=n.n(O),N=n(3252),M=n.n(N),S=n(3253),T=n.n(S),_=n(3254),z=n.n(_),A=n(3255),P=n.n(A),R=n(3256),U=n.n(R),E=n(3257),D=n.n(E),I=n(3258),W=n.n(I),F=n(3259),J=n.n(F),L=n(3260),B=n.n(L),Y=n(3261),q=n.n(Y),G=n(3262),H=n.n(G),K=n(3263),Q=n.n(K),V=n(3264),X=n.n(V),Z=n(3265),$=n.n(Z),ee=n(3266),te=n.n(ee),ne=n(3267),oe=n.n(ne),ae=n(3268),se=n.n(ae),re=n(3269),ce=n.n(re),ie=n(3270),pe=n.n(ie),fe=n(3271),de=n.n(fe);var le={belgium:d.a,brazil:u.a,bulgaria:g.a,canada:h.a,china:y.a,egypt:v.a,france:k.a,germany:C.a,india:M.a,iran:T.a,italy:z.a,japan:P.a,korea:U.a,liechtenstein:D.a,morocco:W.a,myanmar:J.a,netherlands:B.a,portugal:q.a,russia:H.a,singapore:Q.a,spain:X.a,switzerland:$.a,thailand:te.a,timorleste:oe.a,uk:se.a,ukraine:ce.a,usa:pe.a,zambia:de.a};n(3243);const ue={data:c.a.arrayOf(c.a.shape({country_id:c.a.string,metric:c.a.number})),width:c.a.number,height:c.a.number,country:c.a.string,linearColorScheme:c.a.string,mapBaseUrl:c.a.string,numberFormat:c.a.string},be={};function ge(e,t){const{data:n,width:o,height:a,country:r,linearColorScheme:c,numberFormat:f}=t,d=e,l=Object(p.c)(f),u=Object(i.a)().get(c).createLinearScale(function(e,t){let n,o;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=o=t):(n>t&&(n=t),o<t&&(o=t)));else{let a=-1;for(let s of e)null!=(s=t(s,++a,e))&&(void 0===n?s>=s&&(n=o=s):(n>s&&(n=s),o<s&&(o=s)))}return[n,o]}(n,e=>e.metric)),b={};n.forEach(e=>{b[e.country_id]=u(e.metric)});const g=e=>b[e.properties.ISO]||"none",m=s.a.geo.path(),h=s.a.select(d);h.classed("superset-legacy-chart-country-map",!0),h.selectAll("*").remove(),d.style.height=a+"px",d.style.width=o+"px";const x=h.append("svg:svg").attr("width",o).attr("height",a).attr("preserveAspectRatio","xMidYMid meet"),y=x.append("rect").attr("class","background").attr("width",o).attr("height",a),j=x.append("g"),v=j.append("g").classed("map-layer",!0),w=j.append("g").classed("text-layer",!0).attr("transform","translate("+o/2+", 45)"),k=w.append("text").classed("big-text",!0),O=w.append("text").classed("result-text",!0).attr("dy","1em");let C;const N=function(e){const t=e&&C!==e;let n,s,r;const c=o/2,i=a/2;if(t){const t=m.centroid(e);[n,s]=t,r=4,C=e}else n=c,s=i,r=1,C=null;j.transition().duration(750).attr("transform","translate("+c+","+i+")scale("+r+")translate("+-n+","+-s+")"),w.style("opacity",0).attr("transform","translate(0,0)translate("+n+","+(t?s-5:45)+")").transition().duration(750).style("opacity",1),k.transition().duration(750).style("font-size",t?6:16),O.transition().duration(750).style("font-size",t?16:24)};y.on("click",N);const M=function(e){let t=g(e);"none"!==t&&(t=s.a.rgb(t).darker().toString()),s.a.select(this).style("fill",t),function(e){let t="";e&&e.properties&&(t=e.properties.ID_2?e.properties.NAME_2:e.properties.NAME_1),k.text(t)}(e);const o=n.filter(t=>t.country_id===e.properties.ISO);var a;(a=o).length>0&&O.text(l(a[0].metric))},S=function(){s.a.select(this).style("fill",g),k.text(""),O.text("")};function T(e){const{features:t}=e,n=s.a.geo.centroid(e),r=s.a.geo.mercator().scale(100).center(n).translate([o/2,a/2]);m.projection(r);const c=m.bounds(e),i=100*o/(c[1][0]-c[0][0]),p=100*a/(c[1][1]-c[0][1]),f=i<p?i:p;r.scale(f);const d=m.bounds(e);r.translate([o-(d[0][0]+d[1][0])/2,a-(d[0][1]+d[1][1])/2]),v.selectAll("path").data(t).enter().append("path").attr("d",m).attr("class","region").attr("vector-effect","non-scaling-stroke").style("fill",g).on("mouseenter",M).on("mouseout",S).on("click",N)}const _=r.toLowerCase(),z=be[_];if(z)T(z);else{const e=le[_];s.a.json(e,(e,t)=>{e||(be[_]=t,T(t))})}}ge.displayName="CountryMap",ge.propTypes=ue;var me=ge;t.default=Object(o.a)(me)}}]);