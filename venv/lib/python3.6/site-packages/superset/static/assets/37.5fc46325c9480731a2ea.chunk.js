(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{3056:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(0),r=n.n(a),l=n(1),i=n.n(l);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){class n extends i.a.Component{constructor(t){super(t),s(this,"container",void 0),this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,(null==e?void 0:e.componentWillUnmount)&&e.componentWillUnmount.bind(this)()}setContainerRef(t){this.container=t}execute(){this.container&&t(this.container,this.props)}render(){const{id:t,className:e}=this.props;return i.a.createElement("div",{ref:this.setContainerRef,id:t,className:e})}}s(n,"propTypes",{id:r.a.string,className:r.a.string});const a=n;return t.displayName&&(a.displayName=t.displayName),t.propTypes&&(a.propTypes=o({},a.propTypes,{},t.propTypes)),t.defaultProps&&(a.defaultProps=t.defaultProps),n}},3114:function(t,e){t.exports={d3_identity:function(t){return t},d3_mergeLabels:function(t,e){if(0===e.length)return t;t=t||[];for(var n=e.length;n<t.length;n++)e.push(t[n]);return e},d3_linearLegend:function(t,e,n){var a=[];if(e.length>1)a=e;else for(var r=t.domain(),l=(r[r.length-1]-r[0])/(e-1),i=0;i<e;i++)a.push(r[0]+i*l);var o=a.map(n);return{data:a,labels:o,feature:function(e){return t(e)}}},d3_quantLegend:function(t,e,n){var a=t.range().map((function(a){var r=t.invertExtent(a);e(r[0]),e(r[1]);return e(r[0])+" "+n+" "+e(r[1])}));return{data:t.range(),labels:a,feature:this.d3_identity}},d3_ordinalLegend:function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}},d3_drawShapes:function(t,e,n,a,r,l){"rect"===t?e.attr("height",n).attr("width",a):"circle"===t?e.attr("r",r):"line"===t?e.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):"path"===t&&e.attr("d",l)},d3_addText:function(t,e,n,a){e.append("text").attr("class",a+"label"),t.selectAll("g."+a+"cell text."+a+"label").data(n).text(this.d3_identity)},d3_calcType:function(t,e,n,a,r,l){var i=t.ticks?this.d3_linearLegend(t,n,r):t.invertExtent?this.d3_quantLegend(t,r,l):this.d3_ordinalLegend(t);return i.labels=this.d3_mergeLabels(i.labels,a),e&&(i.labels=this.d3_reverse(i.labels),i.data=this.d3_reverse(i.data)),i},d3_reverse:function(t){for(var e=[],n=0,a=t.length;n<a;n++)e[n]=t[a-n-1];return e},d3_placement:function(t,e,n,a,r,l){e.attr("transform",n),a.attr("transform",r),"horizontal"===t&&a.style("text-anchor",l)},d3_addEvents:function(t,e){var n=this;t.on("mouseover.legend",(function(t){n.d3_cellOver(e,t,this)})).on("mouseout.legend",(function(t){n.d3_cellOut(e,t,this)})).on("click.legend",(function(t){n.d3_cellClick(e,t,this)}))},d3_cellOver:function(t,e,n){t.cellover.call(n,e)},d3_cellOut:function(t,e,n){t.cellout.call(n,e)},d3_cellClick:function(t,e,n){t.cellclick.call(n,e)},d3_title:function(t,e,n,a){if(""!==n){t.selectAll("text."+a+"legendTitle").data([n]).enter().append("text").attr("class",a+"legendTitle"),t.selectAll("text."+a+"legendTitle").text(n);var r=t.select("."+a+"legendTitle").map((function(t){return t[0].getBBox().height}))[0],l=-e.map((function(t){return t[0].getBBox().x}))[0];e.attr("transform","translate("+l+","+(r+10)+")")}}}},3273:function(t,e,n){var a=n(294);a.legend=n(3274),t.exports=a},3274:function(t,e,n){t.exports={color:n(3275),size:n(3276),symbol:n(3277)}},3275:function(t,e,n){var a=n(3114);t.exports=function(){var t,e=d3.scale.linear(),n="rect",r=15,l=15,i=10,o=2,s=[5],c=[],d="",u=!1,h="",f=d3.format(".01f"),g=10,p="middle",m="to",v="vertical",b=!1,y=d3.dispatch("cellover","cellout","cellclick");function x(x){var _=a.d3_calcType(e,b,s,c,f,m),w=x.selectAll("g").data([e]);w.enter().append("g").attr("class",d+"legendCells");var O=w.selectAll("."+d+"cell").data(_.data),T=O.enter().append("g",".cell").attr("class",d+"cell").style("opacity",1e-6),k=(T.append(n).attr("class",d+"swatch"),O.select("g."+d+"cell "+n));a.d3_addEvents(T,y),O.exit().transition().style("opacity",0).remove(),a.d3_drawShapes(n,k,l,r,i,t),a.d3_addText(w,T,_.labels,d);var A=O.select("text"),B=k[0].map((function(t){return t.getBBox()}));u?k.attr("class",(function(t){return d+"swatch "+_.feature(t)})):"line"==n?k.style("stroke",_.feature):k.style("fill",_.feature);var S,C,L="start"==p?0:"middle"==p?.5:1;"vertical"===v?(S=function(t,e){return"translate(0, "+e*(B[e].height+o)+")"},C=function(t,e){return"translate("+(B[e].width+B[e].x+g)+","+(B[e].y+B[e].height/2+5)+")"}):"horizontal"===v&&(S=function(t,e){return"translate("+e*(B[e].width+o)+",0)"},C=function(t,e){return"translate("+(B[e].width*L+B[e].x)+","+(B[e].height+B[e].y+g+8)+")"}),a.d3_placement(v,O,S,A,C,p),a.d3_title(x,w,h,d),O.transition().style("opacity",1)}return x.scale=function(t){return arguments.length?(e=t,x):e},x.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(s=t),x):s},x.shape=function(e,a){return arguments.length?(("rect"==e||"circle"==e||"line"==e||"path"==e&&"string"==typeof a)&&(n=e,t=a),x):n},x.shapeWidth=function(t){return arguments.length?(r=+t,x):r},x.shapeHeight=function(t){return arguments.length?(l=+t,x):l},x.shapeRadius=function(t){return arguments.length?(i=+t,x):i},x.shapePadding=function(t){return arguments.length?(o=+t,x):o},x.labels=function(t){return arguments.length?(c=t,x):c},x.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(p=t),x):p},x.labelFormat=function(t){return arguments.length?(f=t,x):f},x.labelOffset=function(t){return arguments.length?(g=+t,x):g},x.labelDelimiter=function(t){return arguments.length?(m=t,x):m},x.useClass=function(t){return arguments.length?(!0!==t&&!1!==t||(u=t),x):u},x.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(v=t),x):v},x.ascending=function(t){return arguments.length?(b=!!t,x):b},x.classPrefix=function(t){return arguments.length?(d=t,x):d},x.title=function(t){return arguments.length?(h=t,x):h},d3.rebind(x,y,"on"),x}},3276:function(t,e,n){var a=n(3114);t.exports=function(){var t,e=d3.scale.linear(),n="rect",r=15,l=2,i=[5],o=[],s="",c="",d=d3.format(".01f"),u=10,h="middle",f="to",g="vertical",p=!1,m=d3.dispatch("cellover","cellout","cellclick");function v(v){var b=a.d3_calcType(e,p,i,o,d,f),y=v.selectAll("g").data([e]);y.enter().append("g").attr("class",s+"legendCells");var x=y.selectAll("."+s+"cell").data(b.data),_=x.enter().append("g",".cell").attr("class",s+"cell").style("opacity",1e-6),w=(_.append(n).attr("class",s+"swatch"),x.select("g."+s+"cell "+n));a.d3_addEvents(_,m),x.exit().transition().style("opacity",0).remove(),"line"===n?(a.d3_drawShapes(n,w,0,r),w.attr("stroke-width",b.feature)):a.d3_drawShapes(n,w,b.feature,b.feature,b.feature,t),a.d3_addText(y,_,b.labels,s);var O,T,k=x.select("text"),A=w[0].map((function(t,a){var r=t.getBBox(),l=e(b.data[a]);return"line"===n&&"horizontal"===g?r.height=r.height+l:"line"===n&&"vertical"===g&&(r.width=r.width),r})),B=d3.max(A,(function(t){return t.height+t.y})),S=d3.max(A,(function(t){return t.width+t.x})),C="start"==h?0:"middle"==h?.5:1;"vertical"===g?(O=function(t,e){return"translate(0, "+(d3.sum(A.slice(0,e+1),(function(t){return t.height}))+e*l)+")"},T=function(t,e){return"translate("+(S+u)+","+(A[e].y+A[e].height/2+5)+")"}):"horizontal"===g&&(O=function(t,e){return"translate("+(d3.sum(A.slice(0,e+1),(function(t){return t.width}))+e*l)+",0)"},T=function(t,e){return"translate("+(A[e].width*C+A[e].x)+","+(B+u)+")"}),a.d3_placement(g,x,O,k,T,h),a.d3_title(v,y,c,s),x.transition().style("opacity",1)}return v.scale=function(t){return arguments.length?(e=t,v):e},v.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(i=t),v):i},v.shape=function(e,a){return arguments.length?("rect"!=e&&"circle"!=e&&"line"!=e||(n=e,t=a),v):n},v.shapeWidth=function(t){return arguments.length?(r=+t,v):r},v.shapePadding=function(t){return arguments.length?(l=+t,v):l},v.labels=function(t){return arguments.length?(o=t,v):o},v.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(h=t),v):h},v.labelFormat=function(t){return arguments.length?(d=t,v):d},v.labelOffset=function(t){return arguments.length?(u=+t,v):u},v.labelDelimiter=function(t){return arguments.length?(f=t,v):f},v.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(g=t),v):g},v.ascending=function(t){return arguments.length?(p=!!t,v):p},v.classPrefix=function(t){return arguments.length?(s=t,v):s},v.title=function(t){return arguments.length?(c=t,v):c},d3.rebind(v,m,"on"),v}},3277:function(t,e,n){var a=n(3114);t.exports=function(){var t=d3.scale.linear(),e=5,n=[5],r=[],l="",i="",o=d3.format(".01f"),s="middle",c=10,d="to",u="vertical",h=!1,f=d3.dispatch("cellover","cellout","cellclick");function g(g){var p=a.d3_calcType(t,h,n,r,o,d),m=g.selectAll("g").data([t]);m.enter().append("g").attr("class",l+"legendCells");var v=m.selectAll("."+l+"cell").data(p.data),b=v.enter().append("g",".cell").attr("class",l+"cell").style("opacity",1e-6),y=(b.append("path").attr("class",l+"swatch"),v.select("g."+l+"cell path"));a.d3_addEvents(b,f),v.exit().transition().style("opacity",0).remove(),a.d3_drawShapes("path",y,15,15,10,p.feature),a.d3_addText(m,b,p.labels,l);var x,_,w=v.select("text"),O=y[0].map((function(t){return t.getBBox()})),T=d3.max(O,(function(t){return t.height})),k=d3.max(O,(function(t){return t.width})),A="start"==s?0:"middle"==s?.5:1;"vertical"===u?(x=function(t,n){return"translate(0, "+n*(T+e)+")"},_=function(t,e){return"translate("+(k+c)+","+(O[e].y+O[e].height/2+5)+")"}):"horizontal"===u&&(x=function(t,n){return"translate("+n*(k+e)+",0)"},_=function(t,e){return"translate("+(O[e].width*A+O[e].x)+","+(T+c)+")"}),a.d3_placement(u,v,x,w,_,s),a.d3_title(g,m,i,l),v.transition().style("opacity",1)}return g.scale=function(e){return arguments.length?(t=e,g):t},g.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(n=t),g):n},g.shapePadding=function(t){return arguments.length?(e=+t,g):e},g.labels=function(t){return arguments.length?(r=t,g):r},g.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(s=t),g):s},g.labelFormat=function(t){return arguments.length?(o=t,g):o},g.labelOffset=function(t){return arguments.length?(c=+t,g):c},g.labelDelimiter=function(t){return arguments.length?(d=t,g):d},g.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(u=t),g):u},g.ascending=function(t){return arguments.length?(h=!!t,g):h},g.classPrefix=function(t){return arguments.length?(l=t,g):l},g.title=function(t){return arguments.length?(i=t,g):i},d3.rebind(g,f,"on"),g}},3278:function(t,e,n){},3279:function(t,e,n){},3363:function(t,e,n){"use strict";n.r(e);var a=n(3056),r=n(294),l=n.n(r),i=n(0),o=n.n(i),s=(n(3273),n(1083)),c=n(631),d=n(775),u=n(125);n(3278),n(3279);const h={data:o.a.shape({records:o.a.arrayOf(o.a.shape({x:o.a.string,y:o.a.string,v:o.a.number,perc:o.a.number,rank:o.a.number})),extents:o.a.arrayOf(o.a.number)}),width:o.a.number,height:o.a.number,bottomMargin:o.a.oneOfType([o.a.string,o.a.number]),colorScheme:o.a.string,columnX:o.a.string,columnY:o.a.string,leftMargin:o.a.oneOfType([o.a.string,o.a.number]),metric:o.a.oneOfType([o.a.string,o.a.object]),normalized:o.a.bool,numberFormat:o.a.string,showLegend:o.a.bool,showPercentage:o.a.bool,showValues:o.a.bool,sortXAxis:o.a.string,sortYAxis:o.a.string,xScaleInterval:o.a.number,yScaleInterval:o.a.number,yAxisBounds:o.a.arrayOf(o.a.number)};function f(t,e){return t>e?1:-1}function g(t,e){const{data:n,width:a,height:r,bottomMargin:i,canvasImageRendering:o,colorScheme:h,columnX:g,columnY:p,leftMargin:m,metric:v,normalized:b,numberFormat:y,showLegend:x,showPercentage:_,showValues:w,sortXAxis:O,sortYAxis:T,xScaleInterval:k,yScaleInterval:A,yAxisBounds:B}=e,{records:S,extents:C}=n,L={top:10,right:10,bottom:35,left:35},M=Object(d.c)(y);function P(t,e,n){let a={};const r={};S.forEach(e=>{a[e[t]]=(a[e[t]]||0)+e.v,r[e[t]]=e[t]});const i=Object.keys(r).map(t=>r[t]);return"alpha_asc"===n?a=i.sort(f):"alpha_desc"===n?a=i.sort(f).reverse():"value_desc"===n?a=Object.keys(a).sort((t,e)=>a[t]>a[e]?-1:1):"value_asc"===n&&(a=Object.keys(a).sort((t,e)=>a[e]>a[t]?-1:1)),"y"===t&&e&&a.reverse(),e?l.a.scale.ordinal().domain(a).rangeBands(e):l.a.scale.ordinal().domain(a).range(l.a.range(a.length))}t.innerHTML="";const z={};!function(){let t=1,e=1;S.forEach(n=>{t=Math.max(t,n.x&&n.x.toString().length||1),e=Math.max(e,n.y&&n.y.toString().length||1)}),L.left="auto"===m?Math.ceil(Math.max(L.left,6*e)):m,x&&(L.right+=40),L.bottom="auto"===i?Math.ceil(Math.max(L.bottom,4.5*t)):i}();const j=a-(L.left+L.right),E=r-(L.bottom+L.top),D=Object(d.c)(u.a.PERCENT),I=P("x",null,O),N=P("y",null,T),R=P("x",[0,j],O),F=P("y",[E,0],T),W=[R.domain().length,F.domain().length],U=B[0]||0,H=B[1]||1,V=Object(c.a)().get(h).createLinearScale([U,H]),X=[l.a.scale.linear().domain([0,W[0]]).range([0,j]),l.a.scale.linear().domain([0,W[1]]).range([0,E])],Y=l.a.select(t);Y.classed("superset-legacy-chart-heatmap",!0);const q=Y.append("canvas").attr("width",W[0]).attr("height",W[1]).style("width",j+"px").style("height",E+"px").style("image-rendering",o).style("left",L.left+"px").style("top",L.top+"px").style("position","absolute"),J=Y.append("svg").attr("width",a).attr("height",r).style("position","relative");if(w){J.selectAll("rect").data(S).enter().append("g").attr("transform","translate("+L.left+", "+L.top+")").append("text").attr("transform",t=>"translate("+R(t.x)+", "+F(t.y)+")").attr("y",F.rangeBand()/2).attr("x",R.rangeBand()/2).attr("text-anchor","middle").attr("dy",".35em").text(t=>M(t.v)).attr("font-size",Math.min(F.rangeBand(),R.rangeBand())/3+"px").attr("fill",t=>t.v>=C[1]/2?"white":"black")}if(x){const t=l.a.legend.color().labelFormat(M).scale(V).shapePadding(0).cells(10).shapeWidth(10).shapeHeight(10).labelOffset(3);J.append("g").attr("transform","translate("+(a-40)+", "+L.top+")").call(t)}const G=Object(s.a)().attr("class","d3-tip").offset((function(){const t=l.a.mouse(this),e=t[0]-j/2;return[t[1]-20,e]})).html((function(){let t="";const e=l.a.mouse(this),n=Math.floor(X[0].invert(e[0])),a=Math.floor(X[1].invert(e[1])),r="object"==typeof v?v.label:v;if(n in z&&a in z[n]){const e=z[n][a];t+="<div><b>"+g+": </b>"+e.x+"<div>",t+="<div><b>"+p+": </b>"+e.y+"<div>",t+="<div><b>"+r+": </b>"+M(e.v)+"<div>",_&&(t+="<div><b>%: </b>"+D(b?e.rank:e.perc)+"<div>"),G.style("display",null)}else G.style("display","none");return t}));J.append("g").attr("transform","translate("+L.left+", "+L.top+")").append("rect").classed("background-rect",!0).on("mousemove",G.show).on("mouseout",G.hide).attr("width",j).attr("height",E).call(G);const K=l.a.svg.axis().scale(R).outerTickSize(0).tickValues(R.domain().filter((t,e)=>!(e%k))).orient("bottom"),Q=l.a.svg.axis().scale(F).outerTickSize(0).tickValues(F.domain().filter((t,e)=>!(e%A))).orient("left");J.append("g").attr("class","x axis").attr("transform","translate("+L.left+","+(L.top+E)+")").call(K).selectAll("text").attr("x",-4).attr("y",10).attr("dy","0.3em").style("text-anchor","end").attr("transform","rotate(-45)"),J.append("g").attr("class","y axis").attr("transform","translate("+L.left+","+L.top+")").call(Q);const Z=q.node().getContext("2d");Z.imageSmoothingEnabled=!1,function(){const t=new Image,e=Z.createImageData(W[0],W[1]),n={};S.forEach(t=>{const e=l.a.rgb(V(b?t.rank:t.perc)),a=I(t.x),r=N(t.y);n[a+r*I.domain().length]=e,void 0===z[a]&&(z[a]={}),void 0===z[a][r]&&(z[a][r]=t)});let a=-1;for(let t=0;t<W[0]*W[1];t++){let r=n[t],i=255;void 0===r&&(r=l.a.rgb("#F00"),i=0),e.data[++a]=r.r,e.data[++a]=r.g,e.data[++a]=r.b,e.data[++a]=i}Z.putImageData(e,0,0),t.src=q.node().toDataURL()}()}g.displayName="Heatmap",g.propTypes=h;var p=g;e.default=Object(a.a)(p)}}]);